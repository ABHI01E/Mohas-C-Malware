#include <windows.h>

DWORD WINAPI effect1(LPVOID lpvd) {
    HDC hdc = GetDC(0);
    int w = GetSystemMetrics(0), h = GetSystemMetrics(1);
    HWND hwnd = GetDesktopWindow();
    RECT rect;
    while (true)
    {
        GetWindowRect(hwnd, &rect);
        int r = rand() % 2;
        if (r == 0)
        {
            StretchBlt(hdc, 0, 0, rect.right, rect.bottom, hdc, 5, 5, rect.right, 10, rect.bottom, 10, SRCCOPY);
        }
        else if (r == 1)
        {
            StretchBlt(hdc, 5, 5, rect.right, 10, rect.bottom, 10, hdc, 0, 0, rect.right, rect.bottom, SRCCOPY);
        }

    }

}
DWORD WINAPI effect2(LPVOID 1pvd)
{
    HDC hdc = GetDC(0);
    int w = GetSystemMetrics(0), h = GetSystemMetrics(1);
    while (true)
    {
        int r = rand() % h;
        int r2 = rand() % 2;
            if (r2 == 0)
            {
                BitBlt(hdc, 1, r, h, 66, hdc, 0, r, SRCCOPY);
            }
            else if (r2 = 1)
            {
                BitBlt(hdc, 0, r, h, 66, hdc, 1, r, SRCCOPY);
            }
            
    }
}
DWORD WINAPI effect3(LPVOID 1pvd)
{
    HDC hdc = GetDC(0);
    int w = GetSystemMetrics(0), h = GetSystemMetrics(1);
    while (true)
    {
        int x1 = (rand() % 400);
        int y1 = (rand() % 400);
        int x2 = (rand() % 400);
        int y2 = (rand() % 400);
        int width = (rand() % w);
        int height(rand() % h);
        BitBlt(hdc, x1, y1, width, height, hdc, x2, y2, SRCCOPY);
    }
}
DWORD WINAPI effect4(LPVOID 1pvd)
{
    HDC hdc = GetDC(0);
    int w = GetSystemMetrics(0), h = GetSystemMetrics(1);
    while (true)
    {
        SelectObject(hdc, CreateSolidBrush(RGB(rand() % 255, rand() % 255, rand() % 255)));
        BitBlt(hdc, 0, 0, w, h, hdc, 0, 0, PATINVERT);
        Sleep(5000);
    }
}
DWORD WINAPI effect5(LPVOID 1pvd)
{
    HDC hdc = GetDC(0);
    int w = GetSystemMetrics(8), h = GetSystemMetrics(1);
    while (true)
    {
        SelectObject(hdc, CreateSolidBrush(RGB(rand() % 75, rand() % 75, rand() % 75)));
        BitBlt(hdc, 0, 0, w, h, hdc, 0, 0, PATINVERT);
        Sleep(1);
    }
}
int __stdcall WinMain(HINSTANCE(a), HINSTANCE(b), LPSTR(c), int(d)) {
    CreateThread(0, 0, effect1, 0, 0, 0);
	CreateThread(0, 0, effect2, 0, 0, 0);
    CreateThread(0, 0, effect3, 0, 0, 0);
    CreateThread(0, 0, effect4, 0, 0, 0);
    CreateThread(0, 0, effect5, 0, 0, 0);
    while(1){}
}